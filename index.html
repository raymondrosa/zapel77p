<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ZAPEL77P Web Wizard (.txt)</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="container">
    <h1>ZAPEL77P Web Wizard</h1>
    <p class="subtitle">
      Generador gráfico de archivos .txt de entrada para ZAPEL77P (formato compacto).
    </p>

    <!-- 1. Datos generales -->
    <section>
      <h2>1. Datos generales</h2>
      <div class="grid">
        <label>Descripción del caso (título)
          <input id="desc" maxlength="80" placeholder="Caso X - Descripción del modelo">
        </label>

        <label>Número de elementos (nm)
          <input id="nm" type="number" min="1" value="3">
        </label>

        <label>Número total de nodos (nn)
          <input id="nn" type="number" min="2" value="4">
        </label>

        <label>Módulo de elasticidad (Ela)
          <input id="ela" type="number" step="any" value="519120.0">
        </label>

        <label>Ancho de banda jbw (opcional)
          <input id="jbw" type="number" min="3" placeholder="Si lo dejas vacío se calcula">
        </label>
      </div>
      <p class="hint">
        Nota: <b>na</b> (nodos con apoyo) y <b>nca2</b> (cargas en Y) se calculan automáticamente
        según las tablas de apoyos y cargas.
      </p>
    </section>

    <!-- 2. Elementos -->
    <section>
      <h2>2. Elementos</h2>
      <p>
        Define cada elemento con sus propiedades. Haz clic en el botón para crear filas
        según nm. El formato sigue la idea:
        <code>mem  ni  nj  I  A  L [pa pb]</code>
      </p>

      <button id="btn-gen-elements" type="button">Crear filas de elementos desde nm</button>

      <table id="elements-table">
        <thead>
          <tr>
            <th>#</th>
            <th>ni</th>
            <th>nj</th>
            <th>I (ft⁴)</th>
            <th>Área (ft²)</th>
            <th>L (ft)</th>
            <th>pa (kip/ft)</th>
            <th>pb (kip/ft)</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <p class="hint">
        Si dejas pa y pb en 0, la línea se escribirá sin cargas distribuidas (como tus
        primeros dos elementos en el ejemplo de la acera).
      </p>
    </section>

    <!-- 3. Soportes -->
    <section>
      <h2>3. Soportes (apoyos)</h2>
      <p>
        En tu versión de ZAPEL77P los apoyos van en una sola línea con el formato:
        <code>na  nodo  kiX  kiY  kiRot  nodo  kiX  kiY  kiRot ...</code>
      </p>

      <button id="btn-add-support" type="button">Añadir nodo con apoyo</button>

      <table id="supports-table">
        <thead>
          <tr>
            <th>Nodo</th>
            <th>kiX</th>
            <th>kiY</th>
            <th>kiRot</th>
            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <p class="hint">
        Usa 0 = libre, 1 = fijo. Ejemplo de tu acera:
        <br>Nodo 1: (0,1,0) &nbsp; Nodo 3: (1,1,0) &nbsp; Nodo 4: (0,1,0)
      </p>
    </section>

    <!-- 4. Cargas en Y -->
    <section>
      <h2>4. Cargas nodales en Y</h2>
      <p>
        ZAPEL77P usa una sola línea para cargas en Y:
        <code>nca2  nodo  Fy  nodo  Fy ...</code>
      </p>

      <button id="btn-add-fy" type="button">Añadir carga en Y</button>

      <table id="fy-table">
        <thead>
          <tr>
            <th>Nodo</th>
            <th>Fy (kips)</th>
            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <p class="hint">
        Por ejemplo, para una carga de 2.47 kips hacia abajo en el nodo 2, pones Fy = -2.47.
      </p>
    </section>

    <!-- 5. Generar archivo -->
    <section>
      <h2>5. Generar archivo .txt</h2>

      <label>Nombre del archivo .txt
        <input id="filename" value="acera.txt">
      </label>

      <button id="btn-generate" type="button" class="primary">
        Generar y descargar archivo .txt
      </button>

      <pre id="preview" class="preview"></pre>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
